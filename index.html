<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Netflix Love Story ‚ù§Ô∏è</title>
<style>
/* ====================================
   RESET & GLOBAL
==================================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', sans-serif;
}

body {
    background: black;
    color: white;
    overflow-x: hidden; 
    overflow-y: auto;   
    text-align: center;
    min-height: 100vh;
    padding-bottom: 50px;
}

/* ====================================
   1. INTRO
==================================== */
#intro {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    background: black;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 100;
}

.netflix-logo {
    font-size: 3.5rem;
    font-weight: 900;
    color: #e50914;
    opacity: 0;
    animation: popIn 3.5s forwards;
}

@keyframes popIn {
    0% { transform: scale(0.5); opacity: 0; }
    30% { transform: scale(1.2); opacity: 1; }
    60% { transform: scale(1); }
    100% { transform: scale(1.5); opacity: 0; }
}

/* ====================================
   2. BACKGROUND
==================================== */
.background {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at center, #330000, #000000 80%);
    z-index: -1;
}

#startScreen {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    background: black;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0; 
    visibility: hidden;
    transition: opacity 1s ease;
    z-index: 50;
}

.btn {
    padding: 12px 30px;
    border: none;
    border-radius: 4px;
    background: #e50914;
    color: white;
    font-weight: bold;
    font-size: 1.1rem;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(229, 9, 20, 0.4);
    transition: transform 0.2s;
}
.btn:hover { transform: scale(1.05); }

/* ====================================
   3. MAIN CONTENT
==================================== */
.container {
    position: relative;
    width: 85%;
    max-width: 600px;
    margin: 100px auto 20px auto; 
    opacity: 0;
    visibility: hidden;
    transition: opacity 1.5s ease;
    z-index: 10;
    text-align: center;
}

.container.active {
    opacity: 1;
    visibility: visible;
}

.photo {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid white;
    box-shadow: 0 0 30px rgba(229, 9, 20, 0.5);
    margin-bottom: 25px;
    transition: transform 5s ease;
}

.photo.zoom {
    transform: scale(2.0);
    opacity: 0; 
}

h1 {
    margin-bottom: 25px;
    font-size: 1.8rem;
    color: #e50914;
    text-shadow: 0 2px 5px black;
}

.message {
    font-size: 1.1rem;
    line-height: 1.6;
    min-height: 100px;
    margin-bottom: 40px;
    white-space: pre-line;
    text-shadow: 0 2px 4px black;
    color: #f0f0f0;
}

/* ====================================
   4. ENDING / CREDITS
==================================== */
#final {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none; 
    z-index: 20;
    display: none; 
}

.credits {
    position: absolute;
    bottom: -100px; 
    width: 100%;
    text-align: center;
    opacity: 0;
}

/* Durasi Credits: 40 Detik */
.credits.roll {
    opacity: 1;
    animation: scrollCredits 40s linear forwards;
}

@keyframes scrollCredits {
    0% { transform: translateY(100vh); }
    100% { transform: translateY(-200vh); }
}

.credits h2 { color: #e50914; margin-bottom: 20px; font-size: 2rem; }
.credits p { margin: 10px 0; color: #ccc; font-size: 1.1rem; }

#blackout {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    background: black;
    opacity: 0;
    pointer-events: none;
    transition: opacity 4s ease;
    z-index: 99;
}

</style>
</head>
<body>

    <div id="intro">
        <div class="netflix-logo">N</div>
    </div>

    <div class="background" id="bg"></div>

    <div id="startScreen">
        <button class="btn" onclick="startStory()">Play Movie üé¨</button>
    </div>

    <div class="container" id="mainContent">
        <img src="her-photo.jpg" class="photo" id="photo" alt="Her Photo">
        <h1>Our Story</h1>
        <div class="message" id="text"></div>
        <button class="btn" id="endBtn" onclick="showEnding()" style="display:none; margin: 0 auto;">
            The Ending ‚ù§Ô∏è
        </button>
    </div>

    <div id="final">
        <div class="credits" id="creditsText">
            <h2>Forever & Always</h2>
            <p>Based on a True Story</p><br>
            <p><strong>Starring</strong></p>
            <p>You</p>
            <p>&</p>
            <p>Me</p><br>
            <p>Music by</p>
            <p>Our Heartbeats</p><br>
            <p>If the world forgets us,</p>
            <p>I will remind the stars</p>
            <p>that you were loved.</p><br>
            <p>Deeply.</p>
            <p>Truly.</p><br>
            <p>Thank you for being my sweetheart.</p><br><br>
            <h2>The End</h2>
        </div>
    </div>

    <div id="blackout"></div>

    <audio id="bgm" loop>
        <source src="https://files.catbox.moe/zs81ug.mp3" type="audio/mpeg">
    </audio>

<script>
    const textElement = document.getElementById("text");
    const endBtn = document.getElementById("endBtn");
    const bgm = document.getElementById("bgm");
    let isTyping = false;
    let typingTimer;

    const message = `There are moments in life that feel ordinary.
And then there are moments that change everything.

Meeting you was never loud or dramatic.
It was quiet.
But inside me‚Ä¶ everything shifted.

You became the peace in my chaos.
The warmth in my coldest nights.

Every laugh we shared,
every memory we built,
it‚Äôs not just moments.
They are pieces of forever.

I want you to remember this:
You are loved fiercely.
Deeply.
Without hesitation.

Because loving you...
has been the most beautiful chapter of my life.`;

    window.onload = function() {
        setTimeout(() => {
            document.getElementById("intro").style.display = "none";
            const startScreen = document.getElementById("startScreen");
            startScreen.style.visibility = "visible";
            startScreen.style.opacity = "1";
        }, 3000);
    };

    function startStory() {
        document.getElementById("startScreen").style.display = "none";
        const mainContent = document.getElementById("mainContent");
        mainContent.classList.add("active");

        bgm.volume = 0.6;
        bgm.play().catch(e => console.log("Audio play failed"));

        setTimeout(() => {
            isTyping = true;
            typeWriter(0);
        }, 1000);
    }

    function typeWriter(i) {
        if (!isTyping) return;

        if (i < message.length) {
            textElement.textContent += message.charAt(i);
            
            // Scroll hanya jika ganti baris
            if (message.charAt(i) === '\n') {
                window.scrollTo({
                    top: document.body.scrollHeight,
                    behavior: 'smooth'
                });
            }

            let char = message.charAt(i);
            let speed = (char === "." || char === "\n") ? 500 : 40;
            speed += Math.random() * 15;

            typingTimer = setTimeout(() => typeWriter(i + 1), speed);
        } else {
            fadeInButton();
            setTimeout(() => {
                window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
            }, 500);
        }
    }

    function fadeInButton() {
        endBtn.style.display = "block";
        endBtn.style.opacity = 0;
        let val = 0;
        let fade = setInterval(() => {
            if (val < 1) {
                val += 0.05;
                endBtn.style.opacity = val;
            } else {
                clearInterval(fade);
            }
        }, 50);
    }

    // --- LOGIKA AUDIO DIPERBAIKI DI SINI ---
    function showEnding() {
        isTyping = false;
        clearTimeout(typingTimer);
        
        window.scrollTo({ top: 0, behavior: 'smooth' });

        document.getElementById("photo").classList.add("zoom");
        document.getElementById("bg").style.filter = "blur(10px)";
        
        document.getElementById("mainContent").style.opacity = "0";
        setTimeout(() => { document.getElementById("mainContent").style.display = "none"; }, 1500);

        const finalDiv = document.getElementById("final");
        finalDiv.style.display = "block";
        
        setTimeout(() => {
            document.getElementById("creditsText").classList.add("roll");
        }, 500);

        // UPDATE: Fade Out jauh lebih lambat (35-40 detik)
        // Agar pas dengan teks ending
        let vol = 0.6;
        let fadeAudio = setInterval(() => {
            if (vol > 0.01) {
                // Kurangi volume sangat sedikit per langkah
                vol -= 0.005; 
                bgm.volume = vol;
            } else {
                bgm.pause();
                clearInterval(fadeAudio);
            }
        }, 300); // Jalan setiap 300ms. Total waktu sekitar 36 detik.

        // Blackout muncul di detik ke-35
        setTimeout(() => {
            document.getElementById("blackout").style.opacity = "1";
        }, 35000);
    }
</script>

</body>
   </html>
